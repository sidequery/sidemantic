# Source: dbt-labs/metricflow (Apache 2.0)
# https://github.com/dbt-labs/metricflow/blob/main/metricflow-semantics/metricflow_semantics/test_helpers/semantic_manifest_yamls/name_edge_case_manifest/
# Tests: metric name = dimension name collision, metric name = entity name collision,
#   unique entity type, primary_entity shorthand, dummy string expressions

semantic_models:
  - name: bookings_source
    description: bookings_source
    model: ref('fct_bookings')
    defaults:
      agg_time_dimension: ds
    measures:
      - name: booking_value
        agg: sum
    entities:
      - name: homonymous_metric_and_entity
        expr: "'dummy_entity_value'"
        type: unique
    dimensions:
      - name: homonymous_metric_and_dimension
        expr: "'dummy_dimension_value'"
        type: categorical
      - name: ds
        type: time
        type_params:
          time_granularity: day
    primary_entity: booking

metrics:
  - name: homonymous_metric_and_dimension
    description: Metric with same name as a dimension (deprecated edge case).
    type: simple
    type_params:
      measure: booking_value

  - name: homonymous_metric_and_entity
    description: Metric with same name as an entity (deprecated edge case).
    type: simple
    type_params:
      measure: booking_value
