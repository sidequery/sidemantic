# Source: dbt-labs/metricflow (Apache 2.0)
# https://github.com/dbt-labs/metricflow/blob/main/metricflow-semantics/metricflow_semantics/test_helpers/semantic_manifest_yamls/scd_manifest/scd_metrics.yaml
# Tests: metrics on SCD dimensions, SCD-based filter on simple metric,
#   boolean OR filter with SCD dimension, SIMPLE type (uppercase)

metrics:
  - name: bookings
    description: raw booking count
    type: simple
    type_params:
      measure: bookings

  - name: family_bookings
    description: Bookings of units with capacity for more than 2 people.
    type: simple
    filter: "{{ Dimension('listing__capacity') }} > 2"
    type_params:
      measure: bookings

  - name: potentially_lux_bookings
    description: raw booking count for listings that are lux, or unknown
    type: simple
    filter: "{{ Dimension('listing__is_lux') }} OR {{ Dimension('listing__is_lux') }} IS NULL"
    type_params:
      measure: bookings
